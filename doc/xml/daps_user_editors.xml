<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet
 href="urn:x-daps:xslt:profiling:docbook45-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE appendix PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.docbook.org/xml/4.5/docbookx.dtd"
[<!ENTITY % entities SYSTEM "entity-decl.ent">
%entities;
]>
<appendix id="app.daps.user.editors">
 <title>Editor-specific Information</title>
 <abstract>
  <para>
   This chapter describes:
   <itemizedlist>
    <listitem>
     <para>
      the use of DocBook macros for Emacs,
     </para>
    </listitem>
    <listitem>
     <para>
      how to integrate &daps-spell; into &jedit;.
     </para>
    </listitem>
   </itemizedlist>
  </para>
 </abstract>
 <sect1 id="sec.daps.user.editors.emacs.macros">
  <title>Emacs&mdash;Macros for Inserting DocBook Elements</title>

  <para>
   Most editors allow you to define or record macros which you can use for
   automatically inserting empty <quote>skeletons</quote> for a complex XML
   construct as illustrated by <xref linkend="ex.daps.user.vle"/>.
  </para>

  <example id="ex.daps.user.vle">
   <title>A <sgmltag>varlistentry</sgmltag> Element</title>
<screen>&lt;varlistentry&gt;
    &lt;term&gt;&lt;/term&gt;
    &lt;listitem&gt;
    &lt;para&gt;&lt;/para&gt;
    &lt;/listitem&gt;
    &lt;/varlistentry&gt;</screen>
  </example>

  <para>
   For Emacs, &dapsacr; already includes macros for adding DocBook elements
   such as <sgmltag>listitem</sgmltag>, <sgmltag>figure</sgmltag>, or
   <sgmltag>indexterm</sgmltag>. The macros are defined in
   <filename>docbook_macros.el</filename> and are added to your system
   during the installation of &dapsacr;. They require that you use one of
   Emacs' main XML editing modes, either <literal>nxml</literal> or
   <literal>psgml</literal>.
  </para>

  <procedure id="pro.daps.emacs.macros.config">
   <title>Configuring Emacs to Use the DocBook Macros</title>
   <step>
    <para>
     To load the DocBook macros, open your Emacs customization file
     (<filename>~/.emacs</filename> or <filename>~/.gnu-emacs</filename>).
    </para>
   </step>
   <step>
    <para>
     Insert the following line:
    </para>
<screen>(load "/usr/share/emacs/site-lisp/docbook_macros.el" t t)</screen>
   </step>
   <step>
    <para>
     Save the Emacs customization file and restart Emacs.
    </para>
   </step>
  </procedure>

  <para>
   For an overview, which macros are available and how to use them, refer to
   <ulink url="http://en.opensuse.org/openSUSE:Documentation_Emacs_Docbook_Macros"></ulink>.
  </para>
 </sect1>
 <sect1 id="sec.daps.user.editors.jedit.spellcheck">
  <title>&jedit;&mdash;Spell Check on the Fly</title>

  <para>
   If you do not want to run <command>daps spellcheck</command> from the
   command line, you cam you can also integrate &daps-spell; (plus a custom
   &aspell; dictionary, if needed) into your XML editor, so that spelling is
   checked <quote>on the fly</quote> during editing. Consult your editor's
   documentation on how to integrate a custom dictionary. If you use
   &jedit;, proceed as outlined in
   <xref linkend="pro.daps.spellcheck.jedit"/>.
  </para>

  <procedure id="pro.daps.spellcheck.jedit">
   <title>Integrating &daps-spell; into &jedit;</title>
   <para>
    <remark>taroth 2012-05-24: check and adjust as the spellchecker will
   evolve in the future</remark>
   </para>
   <step>
    <para>
     Install and activate the plug-in for spell checking:
    </para>
    <substeps>
     <step>
      <para>
       Start &jedit; and select <menuchoice><guimenu>Plugins</guimenu>
       <guimenu>Plugin Manager</guimenu> </menuchoice>.
      </para>
     </step>
     <step>
      <para>
       If the <guimenu>Spell Check</guimenu> plug-in is not already
       installed, install and activate it.
      </para>
     </step>
     <step>
      <para>
       Close and restart &jedit;.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     Configure the plug-in as follows:
    </para>
    <substeps>
     <step>
      <para>
       Select <menuchoice> <guimenu>Plugins</guimenu> <guimenu>Plugin
       Options</guimenu> </menuchoice>.
      </para>
     </step>
     <step>
      <para>
       In the left navigation pane, select <menuchoice> <guimenu>Spell
       Check</guimenu> <guimenu>General</guimenu> </menuchoice>.
      </para>
     </step>
     <step>
      <para>
       Set <guimenu>Spell-checking engine</guimenu> to
       <guimenu>Aspell</guimenu> and select the <guimenu>Dictionary to
       use</guimenu>, for example <literal>en_US</literal>.
      </para>
     </step>
     <step>
      <para>
       If the desired dictionary does not appear in the drop-down list,
       install the respective &aspell; dictionary for the language and click
       <guimenu>Refresh list</guimenu>.
      </para>
     </step>
     <step>
      <para>
       In the left navigation pane, switch to <menuchoice> <guimenu>Spell
       Check</guimenu> <guimenu>Syntax handling</guimenu> </menuchoice>.
      </para>
     </step>
     <step>
      <para>
       In the table, activate the <guimenu>markup</guimenu> entry and click
       <guimenu>Edit</guimenu> next to it.
      </para>
     </step>
     <step>
      <para>
       In the <guimenu>Token types picker</guimenu>, activate the following
       entries:
      </para>
      <itemizedlist>
       <listitem>
        <para>
         NULL
        </para>
       </listitem>
       <listitem>
        <para>
         COMMENT1
        </para>
       </listitem>
       <listitem>
        <para>
         LITERAL1
        </para>
       </listitem>
      </itemizedlist>
     </step>
     <step>
      <para>
       In the left navigation pane, switch to <menuchoice> <guimenu>Spell
       Check</guimenu> <guimenu>Aspell Engine</guimenu> </menuchoice>.
      </para>
     </step>
     <step>
      <para>
       Set the path to the <guimenu>Aspell executable file name</guimenu>.
       Select <guimenu>Enable markup mode</guimenu>.
      </para>
     </step>
     <step>
      <para>
       To use an additional custom &aspell; dictionary, specify the path to
       the custom dictionary in the input field below <guimenu>Additional
       parameters</guimenu>:
      </para>
<screen>--extra-dicts=<replaceable>PATH_TO_CUSTOM_DICT</replaceable>
    </screen>
      <para>
       For example:
      </para>
<screen>--extra-dicts=/home/tux/custom_aspell.rws</screen>
     </step>
     <step>
      <para>
       Confirm your settings in the plugin options dialog with
       <guimenu>OK</guimenu> or <guimenu>Apply</guimenu>.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     To execute a spell check during editing, select <menuchoice>
     <guimenu>Plugins</guimenu> <guimenu>Spell Check</guimenu>
     <guimenu>Highlight misspelled words</guimenu> </menuchoice> (or use the
     keyboard shortcut assigned to that menu item).
    </para>
   </step>
  </procedure>
 </sect1>
</appendix>
